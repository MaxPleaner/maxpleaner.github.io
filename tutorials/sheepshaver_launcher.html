<!DOCTYPE html>
<html>
  <head>
    <title>Max Pleaner</title><!--Google Fonts-->
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link href="https://fonts.googleapis.com/css2?family=Neucha&amp;display=swap" rel="stylesheet" />
    <style type="text/css">
      body {
        background-color: #4d4d4d;
        color: #d9d9d9;
        font-size: 24px;
        padding: 15px;
        font-family: "Neucha";
      }
      
      a {
        color: lightblue;
      }
      
      .nav {
        list-style-type: none;
        margin: 0;
        padding: 0;
        overflow: hidden;
        background-color: #333;
      }
      
      .nav li {
        float: left;
        margin: 2px;
        outline: 1px solid white;
      }
      
      .nav li a {
        display: block;
        color: white;
        text-align: center;
        padding: 14px 16px;
        text-decoration: none;
      }
      .nav li a.home-link {
        color: lightgreen;
      }
      .nav li a.selected {
        outline: 1px solid pink;
      }
      
      .nav li a:hover {
        background-color: #111;
      }
      
      #footer {
        position: fixed;
        left: 0;
        bottom: 0;
        width: 100%;
        border-top: 1px solid black;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <ul class="nav">
      <li>
        <a class="home-link" href="/">Max Pleaner</a>
      </li>
      <li>
        <a href="/programming.html">programming</a>
      </li>
      <li>
        <a href="/music.html">music</a>
      </li>
      <li>
        <a href="/3d.html">3d</a>
      </li>
      <li>
        <a href="/tutorials.html">tutorials		</a>
      </li>
    </ul><p><a href="/tutorials.html">back</a></p>
<h1
id="launching-mac-os-9-sheepshaver-games-in-launchbox-bigbox">Launching
Mac OS 9 / Sheepshaver games in Launchbox / Bigbox</h1>
<p><em>5/22/2022</em></p>
<p><em>Note: most of this would probably be the same for other game
launchers like RetroPie / EmulationStation</em></p>
<p><em>Note: this tutorial is for <strong>Windows</strong>. If you‚Äôre on
a Unix system, you may be able to learn some things but the specific
programs / batch scripts clearly won‚Äôt work verbatim</em>.</p>
<h3 id="table-of-contents">Table of Contents</h3>
<ul>
<li><a href="#intro-my-machine">Intro</a></li>
<li><a href="#sheepshaver-initial-setup-installing-os-9">SheepShaver
initial setup - Installing OS 9</a></li>
<li><a href="#running-games-on-mac">Running games on Mac</a></li>
<li><a href="#controller-mapping-antimicrox">Controller Mapping -
AntiMicroX</a></li>
<li><a href="#the-launcher">The Launcher</a></li>
</ul>
<hr />
<h3 id="intro-my-machine">Intro / My Machine</h3>
<p>Seems like an oddly specific topic for a tutorial? Yeah, it kinda is,
but let me give some context.</p>
<p>I have been setting up a standalone emulation computer over the past
couple weeks. Specifically, I was recommended to get at least a 4th gen
i7, and I found a used Dell Desktop with 16GB RAM and an AMD RX 550 for
$400 on NewEgg. I went with the 500GB HDD, which was a mistake!
Definitely go for the SSD so you can have faster boot times.</p>
<p>Anyway, my goal is to have something plugged into my TV which I can
just turn on and navigate with a game controller - keyboard/mouse should
<em>not</em> be required. This is so I can really get that ‚Äúgame
console‚Äù feel.</p>
<p>Launchbox / Big Box are fantastic for this purpose. I tried
EmulationStation on Linux at first (trust me, I do <em>not</em> prefer
Windows) - this is what Retropie uses, by the way - but it was just
janky, and then I decided to go with Launchbox. It‚Äôs a much more
polished program, albeit only runs on Windows. So, yet again I found
myself in that regrettable situation where I had to leave Ubuntu ‚Ä¶ until
next timeüò¢.</p>
<p>You do have to pay for Launchbox premium to get controller navigation
and access to Big Box (which is its more ‚Äúconsole‚Äù oriented interface).
However, that‚Äôs not required for this tutorial and this will all work in
standard Launchbox (or, as I mentioned, other launcher programs with
some tweaks).</p>
<p>Launchbox / Bigbox has seamless integration with Retroarch which can
run <em>most</em> emlators. However it does not run old Mac games, so to
launch those we need some special (and tricky) configuration, hence this
tutorial. I spent far too long getting this to work, and found myself
questioning my sanity / obsessive tendencies (probably had a
point!).</p>
<h3 id="sheepshaver-initial-setup---installing-os-9">SheepShaver initial
setup - Installing OS 9</h3>
<p><strong>Note: Feel free to skip if you‚Äôve already done
this</strong></p>
<ol type="1">
<li><p>Download the program from <a
href="https://www.emaculation.com/forum/viewtopic.php?f=20&amp;t=7360">here</a></p></li>
<li><p>Download Mac OS 9.0.4 Installer from <a
href="https://macintoshgarden.org/apps/macintosh-system-922-1021-power-macintosh-g4-mirrored-drive-doors-mdd#Mac_OS_9.0.4">here</a></p></li>
<li><p>Unzip the Mac OS 9.0.4 Installer and mark the <code>.toast</code>
file as Read-Only via its ‚ÄúProperties‚Äù menu.</p></li>
<li><p>Download the ‚ÄúNew World‚Äù ROMs from <a
href="https://www.macintoshrepository.org/7038-all-macintosh-roms-68k-ppc-">here</a>
(we don‚Äôt really <em>all</em> of them, but it doesn‚Äôt hurt).</p></li>
<li><p>Open SheepShaverGUI, navigate to the Memory/Misc tab. Set the RAM
to something higher (I used 1024 MB) and specify the ROM file
<code>newworld86.rom</code>.</p></li>
<li><p>Go to the ‚ÄúVolumes‚Äù tab, press ‚ÄúAdd‚Äù and navigate to your Mac OS
Installer file.</p></li>
<li><p>Still in the ‚ÄúVolumes‚Äù tab, press ‚Äúcreate‚Äù and give a new name
for the drive, ending in <code>.hsv</code> extension,
e.g.¬†<code>OS9.hsv</code>. Give it a decent size - 500MB to 2GB - this
will be the drive that Mac OS is installed to. The installation itself
requires around 250MB of space; it‚Äôs up to you how much extra space you
want to add here. You can store games in this drive, but you can always
create additional drives.</p></li>
<li><p>Make sure the installer volume is <em>first</em> in the list.
This ensures it‚Äôs the one which gets booted into.</p></li>
<li><p>Make sure the ‚ÄúMount drives‚Äù option is enabled and exposes the
drives you want to use. E.g. I want to copy files from my Windows C: and
D: drives to Mac OS so I put <code>CD</code> in this field.</p></li>
<li><p>Some further configuration (optional): In ‚ÄúGraphics/Sound‚Äù, you
<em>can</em> change Video Type to ‚ÄúFullscreen‚Äù but I recommend instead
using ‚ÄúWindowed‚Äù with Width/Height set to ‚ÄúMaximum‚Äù. Fullscreen
occasionally caused system-wide crashes for me. I also recommend
changing the Render Driver to OpenGL or Direct3D. Apparently it‚Äôs fine
to turn off the JIT Compiler in the ‚ÄúJIT Compiler‚Äù tab, but I didn‚Äôt see
much effect either way.</p></li>
<li><p>Press start! The Installer should boot. If you see an error that
it ‚Äúmust be on the original disk‚Äù, you forgot to mark the installer as
read-only. You will be promped to format the disk and Mac OS will
install there (which can take maybe 10 min).</p></li>
<li><p>Exit Mac OS via Special =&gt; Shutdown</p></li>
<li><p>Open SheepShaverGUI again, remove the installation Volume. From
this point you can launch Mac OS via SheepShaverGUI or the regular
SheepShaver executable (to skip the GUI).</p></li>
</ol>
<h3 id="running-games-on-mac">Running Games on Mac</h3>
<p><strong>Note: Feel free to skip if you already know how to do
this</strong></p>
<p>When you download games, they will usually come as <code>.sit</code>
or <code>.bin</code> files. These are old compression formats and you
can use Stuffit Expander <em>on Mac OS</em> to extract them.</p>
<p>To find Stuffit (or any other program) you can use ‚ÄúSherlock‚Äù which
is like an early version of spotlight. If you‚Äôre using Sherlock, make
sure to uncheck ‚ÄúMy PC‚Äù (your host Windows drive) or else it will take
forever! You can also download Stuffit from <a
href="https://www.macintoshrepository.org/2475-stuffit-expander-and-dropstuff-w-ee-5-5">here</a>.</p>
<p>Once you extract the game, you should be able to just install/run it
as normal. If there‚Äôs no sound, don‚Äôt be alarmed! Just turn up the
volume from the bottom toolbar (it‚Äôs set to 0 by default).</p>
<p>I should mention, in my experience it didn‚Äôt work well to run Stuffit
or the games via ‚ÄúMy PC‚Äù. It‚Äôs better to copy stuff to the Mac OS drive
before extracting / running. You can usually copy the extracted files
back to ‚ÄúMy PC‚Äù afterwards althoug this doesn‚Äôt always work.</p>
<h3 id="controller-mapping---antimicrox">Controller Mapping -
AntiMicroX</h3>
<ol type="1">
<li><p>Download <a
href="https://github.com/AntiMicroX/antimicrox/releases/latest">the
program</a></p></li>
<li><p>Open it and test that your controller inputs register correctly.
If they do, you‚Äôre lucky! I personally use an 8bitdo controller and I
had issues with some of the cheaper ones. $30-$50 a controller seems
like a lot but the $15 ones I tried just didn‚Äôt work.</p></li>
<li><p>Set up some basic mappings for testing purposes (can always
change this later). E.g. Right stick to control the mouse, Left stick /
D pad for arrows. X to click.</p></li>
<li><p>Save the profile somewhere and give it a name. It will auto-load
the next time you start AntiMicroX.</p></li>
<li><p>Test in SheepShaver. You might have to adjust the mouse
sensitivity.</p></li>
<li><p>Note that you can create as many profiles as needed, one per game
is fine.</p></li>
</ol>
<h3 id="the-launcher">The Launcher</h3>
<p>Now for the meat of the matter!</p>
<p>How this is gonna work, as an overview:</p>
<ul>
<li>On Mac OS, we make an Applescript in the Startup folder</li>
<li>The Applescript reads a text file on Windows for a game path and
starts that application.</li>
<li>Our actual launcher scripts (run on Windows / Launchbox) will write
a path to this text file and then boot SheepShaver. They will also boot
AntiMicroX with the correct mapping file and then kill it when
SheepShaver quits.</li>
</ul>
<h4 id="step-1-applescript-startup-file">Step 1: Applescript Startup
file</h4>
<p>So first of all we‚Äôre going to need to make sure we have a working
Applescript environment in Mac OS. I‚Äôm gonna save you some time and just
tell you to download <a
href="https://www.macintoshrepository.org/32883-script-debugger-1-0">Script
debugger 1.0.3</a>, since the built-in Script Editor would always crash
upon save. Note that you <em>cannot</em> just create Applescripts from
your host Windows machine - they won‚Äôt execute.</p>
<p>Install this on the Mac, open it, and create a new script with the
following content:</p>
<pre><code>set txtFile to (&quot;This PC:Users:max:Desktop:launcher_file.txt&quot;)
set appPath to (read file txtFile)
tell application appPath to open
</code></pre>
<p><strong>Important</strong> You must replace
<code>Users:max:Desktop:launcher_file.txt</code> with a location on your
(Windows) system. Use colons, not slashes, to distinguish folders.
Create an empty <code>launcher_file.txt</code> at this location.</p>
<p>Save the Applescript under any name, but make sure to give it the
type ‚ÄúApplication‚Äù. Uncheck all checkboxes (Stay open, show startup
screen, save debugging information).</p>
<p>Move the script to the startup folder (System Folder / Startup
Items).</p>
<h4 id="step-2-windows-launcher-script">Step 2: Windows Launcher
script</h4>
<p>Create a new file in your Windows text editor of choice, save it as
<code>launcher_common.bat</code>:</p>
<pre><code>@echo off

Rem WRITE THE PATH TO THE LAUNCH FILE
(echo|set /p= %1)&gt;C:\Users\max\Desktop\launcher_file.txt

Rem START ANTIMICROX FOR CONTROLLER MAPPING
START /B CMD /C CALL &quot;C:\ProgramData\Microsoft\Windows\Start Menu\Programs\AntiMicroX\AntiMicrox.lnk&quot; --profile %2

Rem LAUNCH SHEEPSHAVER
cd C:\Users\max\Desktop\os\mac\Sheepsaver
start /W SheepShaver.exe

Rem KILL ANTIMICROX
taskkill /f /im antimicrox.exe

Rem EMPTY OUT THE LAUNCH FILE AFTER
echo|set /p= &gt; C:\Users\max\Desktop\launcher_file.txt</code></pre>
<p><strong>Important</strong> you must replace all the paths in here
with the ones on your system!</p>
<ul>
<li><code>launcher_file.txt</code></li>
<li><code>AntiMicrox.lnk</code></li>
<li>the SheepShaver folder</li>
</ul>
<p>The <code>AntiMicroX.lnk</code> file can be found by typing
‚ÄúAntiMicroX‚Äù into Windows search and pressing ‚ÄúShow File Location‚Äù. We
use the symlink so we can start it minimized - to do this, right click
the file, go to ‚ÄúProperties =&gt; Shortcut‚Äù and change the ‚ÄúRun‚Äù mode
there. Note that ‚Äúminimized‚Äù in this context means it won‚Äôt show up on
your toolbar at all - you‚Äôll have to go to the system tray if you want
to see it.</p>
<p>Next, it‚Äôs time to create launchers for specific games. Thankfully,
these are simpler. All we need to do is call
<code>launcher_common.bat</code> and pass it two argumrnts:</p>
<ul>
<li>The Mac OS path of our game to launch.</li>
<li>The controller mapping file</li>
</ul>
<p>For example, this is my <code>munchies.bat</code> launcher:</p>
<pre><code>C:\Users\max\Desktop\roms\mac\launchers\launcher_common.bat &quot;OS9:Custom:munchies:munchies&quot; &quot;C:\Users\max\Desktop\os\antimicrox\munchies.gamecontroller.amgp&quot;</code></pre>
<p>Remember that the path here
(<code>OS9:Custom:munchies:munchies</code>) is read by Mac OS. To get
the game path in Mac OS, click on the executable and press ‚ÄúFile =&gt;
Get Info‚Äù.</p>
<p>Now we‚Äôve done the hard work, and we can test it! Close SheepShaver
and AntiMicroX, doubleclick your game launcher <code>.bat</code> file,
and check if AntiMicroX / SheepShaver were booted!</p>
<p>One caveat - not all games will be able to get launched this way. For
example, Munchies for some reason will only auto-launch when you do
Special =&gt; Shutdown. But I think most games should work with this
approach.</p>
<h4 id="step-3-quit-sheepshaver-with-controller">Step 3: Quit
SheepShaver with controller</h4>
<p>Currently, the only way to exit SheepShaver with the controller is to
go to Special =&gt; Shutdown. But we can map this to a specific button
in AntiMicroX:</p>
<p>Create a file <code>.kill_sheepshaver.bat</code>:</p>
<pre><code>taskkill /f /im SheepShaver.exe</code></pre>
<p>Then, in AntiMicroX, open the mapping for a particular key (I use
‚Äúselect‚Äù) and go to ‚ÄúAdvanced‚Äù. In ‚ÄúAssignments‚Äù, create a new
‚ÄúExecutable‚Äù entry and point it to your
<code>kill_sheepshaver.bat</code> script. Press ‚ÄúInsert‚Äù to save. You
should now be able to force kill SheepShaver with one button! You‚Äôll get
an annoying warning that Mac OS wasn‚Äôt shut down correctly, but this can
be disabled in Mac OS general settings.</p>
<h4 id="step-4-add-it-to-launchbox-finally">Step 4: Add it to Launchbox
(finally!)</h4>
<p>If you thought that was a lot of work, can you imagine doing it
without a tutorial? At last, it‚Äôs time to add our games to
Launchbox.</p>
<p>Start by opening Launchbox, go to ‚Äútools =&gt; manage =&gt;
emulators‚Äù and create a new entry named ‚ÄúSheepShaver‚Äù (or whatever you
want). For the ‚Äúapplication path‚Äù, you‚Äôre going to want to quickly
create <em>one last batch file</em>, call this
<code>launchbox_mac_os_9.bat</code> or something like that. Populate it
like so:</p>
<pre><code>%1</code></pre>
<p>Yes, that‚Äôs right, just <code>%1</code>, nothing else in there.
Because our game launchers contain all the logic themselves, we don‚Äôt
need to do anything here other than just fire off the launchers. But for
some reason Launchbox requires us to make this wrapper. Save it, and go
ahead and scan your launcher .bat files in.</p>
<p>Voila.</p>
<p>If you found this useful or something‚Äôs not working feel free to
email me at maxpleaner@gmail.com</p><br><br><br>
    <div id="footer">
      <sub><sup><span>Made with </span><a href="http://github.com/maxpleaner/SlimStatic">SlimStatic</a><span>. Font: </span><a href="https://fonts.google.com/specimen/Neucha">Neucha</a></sup></sub>
    </div>
  </body>
</html>